## Interview_Quotes

### Требования для запуска тестов:
1. ОС: *`Linux`* 
2. Доступ в интернет
3. *`Python3`* версии 3.6 или выше 
4. Наличие установленного *`Google Chrome`* (или другого браузера)
5. Скачанный подходящий *`вебдрайвер`* соответсвующей версии \
(при желании драйвер можно поменять в фикстуре из файла `ui_tests/conftest.py`)
6. Скачанные зависимости для Python (большинство из них есть в питоне по умолчанию, 
зависимости, которых однозначно нет "из коробки", указаны в файле `dependencies.txt`.
Установку зависимостей можно произвести командой `python3 -m pip install -r <путь к файлу dependencies.txt>`.


### Структура проекта.

#### Проект содержит в себе 2 директории:

- `ui_tests` для 1 задания    
   + `databases` | здесь находится реализация БД *`SQLite`* 
   + `pages`     | здесь находится реализация паттерна *`PageObject`* для  сайта  http://checkme.kavichki.com/
   + `conftest.py` и `test_ui.py` | файлы необходимые для настройки и запуска тестов для первого задания
   

- `api_testing`  для 2 задания \
   + `helpers` | директория с вспомогательными инструментами (`utils.py`)и реализацией интерфейса API (`json_placehokder_api.py`).
   + `jsons`   | директория с `json`-файлами c тестируемого ресурса.
   + `test_api.py` | файл для запуска `api`-тестов
   
### Запуск тестов

#### UI тесты
1. Настройка окружения. 
    Для данных тестов нужно выставить 2 переменных:
    - `DATABASE_DIR=<путь до директории, где будет располагаться БД>`  
    - `DRIVER_PATH=<путь до WebDriver>`
2. Запуск теста производится с помощь команды консольной `pytest ui_tests/test.py -s -v --tb=no` из папки проекта или с помощью среды разработки (например, `PyCharm`).

Все, кроме первого теста (первая функция в тестовом классе), были добавлены на мое усмотрение в связи с большим количеством `багов` на тестовом сайте.
Некоторые тесты падают, так как проверяется логически корректная работа функционала, а он работает неверно.
Например, кнопка "Сбросить" под таблицей по идее может как приводить таблицу к исходному состоянию, так и очищать форму добавления новой записи, поэтому для данной кнопки были добавлены 2 теста, которые это проверяют.

После окончания тестов, остается файл базы данных. Он намеренно не удаляется, чтобы его можно было переиспользовать.
Во время тестов в БД добавляются записи, что не влияет на корректность работы тестов.
Как говорится: "а что, а вдруг".

#### API тесты

Для запуска API тестов требуется выставить переменную окружения `JSON_DIR=<путь до папки с api_testing/jsons>`.
запускать тесты аналагочиной командой `pytest api_testing/test_api.py` или с помощью среды разработки.



